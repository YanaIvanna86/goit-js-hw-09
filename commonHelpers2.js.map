{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { email: \"\", message: \"\" }\n\nconst FORM_KEY = \"feedback-form-state\";\n\nconst feedbackForm = document.querySelector(\".feedback-form\");\n\npopulateForm();\n\nfeedbackForm.addEventListener('input', feedbackFormInput);\nfeedbackForm.addEventListener('submit', feedbackFormSubmit);\n\n\nfunction feedbackFormInput(event) {\n  \n  formData.email = event.currentTarget.email.value;\n  formData.message = event.currentTarget.message.value;\n\n  try {\n      localStorage.setItem(FORM_KEY, JSON.stringify(formData).trim());\n  } catch (error) {\n      console.log(err);\n      return;\n  }\n} \n\nfunction feedbackFormSubmit(event) {\n  \n  event.preventDefault();\n  \n  if (!formData.email || !formData.message) {\n      return console.log(\"Fill please all fields\");\n  }\n\n  console.dir(formData);\n  \n  localStorage.removeItem(FORM_KEY);\n  \n  event.currentTarget.reset();\n}\n\nfunction populateForm() {\n    let dataFromStorage = {};\n     try {\n        dataFromStorage = JSON.parse(localStorage.getItem(FORM_KEY))\n    } catch (error) {\n        console.log(err);\n        return;\n     }\n    \n    if (!dataFromStorage) { \n        return;\n    }\n\n    for (const key in dataFromStorage) { \n        feedbackForm.elements[key].value = dataFromStorage[key];\n    }\n }"],"names":["formData","FORM_KEY","feedbackForm","populateForm","feedbackFormInput","feedbackFormSubmit","event","dataFromStorage","key"],"mappings":"wFAAA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,EAErCC,EAAW,sBAEXC,EAAe,SAAS,cAAc,gBAAgB,EAE5DC,IAEAD,EAAa,iBAAiB,QAASE,CAAiB,EACxDF,EAAa,iBAAiB,SAAUG,CAAkB,EAG1D,SAASD,EAAkBE,EAAO,CAEhCN,EAAS,MAAQM,EAAM,cAAc,MAAM,MAC3CN,EAAS,QAAUM,EAAM,cAAc,QAAQ,MAE/C,GAAI,CACA,aAAa,QAAQL,EAAU,KAAK,UAAUD,CAAQ,EAAE,KAAI,CAAE,CACjE,MAAe,CACZ,QAAQ,IAAI,GAAG,EACf,MACH,CACH,CAEA,SAASK,EAAmBC,EAAO,CAIjC,GAFAA,EAAM,eAAc,EAEhB,CAACN,EAAS,OAAS,CAACA,EAAS,QAC7B,OAAO,QAAQ,IAAI,wBAAwB,EAG/C,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWC,CAAQ,EAEhCK,EAAM,cAAc,OACtB,CAEA,SAASH,GAAe,CACpB,IAAII,EAAkB,CAAA,EACrB,GAAI,CACDA,EAAkB,KAAK,MAAM,aAAa,QAAQN,CAAQ,CAAC,CAC9D,MAAe,CACZ,QAAQ,IAAI,GAAG,EACf,MACF,CAEF,GAAKM,EAIL,UAAWC,KAAOD,EACdL,EAAa,SAASM,CAAG,EAAE,MAAQD,EAAgBC,CAAG,CAE9D"}